<row
    Id="3758880"
    PostTypeId="2" 
    ParentId="3758606" 
    CreationDate="2010-09-21T09:22:21.483"
    Score="1384"
    Body="&lt;blockquote&gt;&#xA;&lt;p&gt;&lt;strong&gt;Fun fact:&lt;/strong&gt; The original snippet posted here was the most copied Java snippet of all time on Stack Overflow, and it was flawed. It was fixed, but it got messy.&lt;/p&gt;&#xA;&lt;p&gt;Full story in this article: &lt;a href=&quot;https://programming.guide/worlds-most-copied-so-snippet.html&quot; rel=&quot;noreferrer&quot;&gt;The most copied Stack Overflow snippet of all time is flawed!&lt;/a&gt;&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;p&gt;Source: &lt;a href=&quot;http://programming.guide/java/formatting-byte-size-to-human-readable-format.html&quot; rel=&quot;noreferrer&quot;&gt;Formatting byte size to human readable format | Programming.Guide&lt;/a&gt;&lt;/p&gt;&#xA;&lt;h1&gt;SI (1 k = 1,000)&lt;/h1&gt;&#xA;&lt;pre&gt;&lt;code&gt;public static String humanReadableByteCountSI(long bytes) {&#xA;    if (-1000 &amp;lt; bytes &amp;amp;&amp;amp; bytes &amp;lt; 1000) {&#xA;        return bytes + &amp;quot; B&amp;quot;;&#xA;    }&#xA;    CharacterIterator ci = new StringCharacterIterator(&amp;quot;kMGTPE&amp;quot;);&#xA;    while (bytes &amp;lt;= -999_950 || bytes &amp;gt;= 999_950) {&#xA;        bytes /= 1000;&#xA;        ci.next();&#xA;    }&#xA;    return String.format(&amp;quot;%.1f %cB&amp;quot;, bytes / 1000.0, ci.current());&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;h1&gt;Binary (1 Ki = 1,024)&lt;/h1&gt;&#xA;&lt;pre&gt;&lt;code&gt;public static String humanReadableByteCountBin(long bytes) {&#xA;    long absB = bytes == Long.MIN_VALUE ? Long.MAX_VALUE : Math.abs(bytes);&#xA;    if (absB &amp;lt; 1024) {&#xA;        return bytes + &amp;quot; B&amp;quot;;&#xA;    }&#xA;    long value = absB;&#xA;    CharacterIterator ci = new StringCharacterIterator(&amp;quot;KMGTPE&amp;quot;);&#xA;    for (int i = 40; i &amp;gt;= 0 &amp;amp;&amp;amp; absB &amp;gt; 0xfffccccccccccccL &amp;gt;&amp;gt; i; i -= 10) {&#xA;        value &amp;gt;&amp;gt;= 10;&#xA;        ci.next();&#xA;    }&#xA;    value *= Long.signum(bytes);&#xA;    return String.format(&amp;quot;%.1f %ciB&amp;quot;, value / 1024.0, ci.current());&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;h1&gt;Example output:&lt;/h1&gt;&#xA;&lt;pre&gt;&lt;code&gt;                              SI     BINARY&#xA;&#xA;                   0:        0 B        0 B&#xA;                  27:       27 B       27 B&#xA;                 999:      999 B      999 B&#xA;                1000:     1.0 kB     1000 B&#xA;                1023:     1.0 kB     1023 B&#xA;                1024:     1.0 kB    1.0 KiB&#xA;                1728:     1.7 kB    1.7 KiB&#xA;              110592:   110.6 kB  108.0 KiB&#xA;             7077888:     7.1 MB    6.8 MiB&#xA;           452984832:   453.0 MB  432.0 MiB&#xA;         28991029248:    29.0 GB   27.0 GiB&#xA;       1855425871872:     1.9 TB    1.7 TiB&#xA; 9223372036854775807:     9.2 EB    8.0 EiB   (Long.MAX_VALUE)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;"
    OwnerUserId="276052"
    LastEditorUserId="648265"
    LastEditDate="2020-11-30T10:29:35.070"
    LastActivityDate="2020-11-30T10:29:35.070"
    CommentCount="27"
    ContentLicense="CC BY-SA 4.0"
    />
